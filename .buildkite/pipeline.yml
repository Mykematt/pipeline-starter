steps:
  - label: "surprise"
    command: |
      buildkite-agent annotate "<img class=\"emoji\" title=\"one-does-not-simply\" alt=\":one-does-not-simply:\" src=\"https://buildkiteassets.com/emojis/img-buildkite-64/one-does-not-simply.png\" draggable=\"false\" /> One does not simply annotate." --style "success"
    agents:
      queue: "mac"
  - label: "testing"
    command: |
      echo "Starting long-running test job at $(date)"
      echo "Job PID: $"
      echo "Agent PID: $BUILDKITE_AGENT_PID"
      echo "You can now terminate the agent to test graceful shutdown behavior"
      
      # Simple loop that runs for a long time
      i=1
      while true; do
        echo "[$i] Still running at $(date) - terminate the agent when ready"
        sleep 30
        i=$((i+1))
      done
    agents:
      queue: "mac"